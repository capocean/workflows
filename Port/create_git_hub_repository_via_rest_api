{
  "identifier": "create_git_hub_repository_via_rest_api",
  "title": "Create GitHub Repository Action",
  "icon": "GithubActions",
  "trigger": {
    "type": "self-service",
    "operation": "CREATE",
    "userInputs": {
      "properties": {
        "repository_name": {
          "title": "Repository Name",
          "type": "string",
          "description": "The name of the repository",
          "pattern": "^[a-zA-Z0-9_-]+$"
        },
        "description": {
          "title": "Description",
          "type": "string",
          "description": "A short description of the repository"
        },
        "visibility": {
          "title": "Visibility",
          "type": "string",
          "enum": [
            "public",
            "private"
          ],
          "default": "private",
          "enumColors": {
            "public": "blue",
            "private": "lightGray"
          }
        },
        "auto_init": {
          "title": "Initialize with README",
          "type": "boolean",
          "default": true,
          "description": "Create an initial commit with empty README"
        },
        "gitignore_template": {
          "title": "Gitignore Template",
          "type": "string",
          "enum": [
            "Node",
            "Python",
            "Java",
            "Go",
            "Ruby"
          ]
        },
        "license_template": {
          "title": "License",
          "type": "string",
          "enum": [
            "mit",
            "apache-2.0",
            "gpl-3.0",
            "bsd-3-clause"
          ]
        },
        "has_issues": {
          "title": "Enable Issues",
          "type": "boolean",
          "default": true
        },
        "has_wiki": {
          "title": "Enable Wiki",
          "type": "boolean",
          "default": true
        }
      },
      "required": [
        "repository_name"
      ],
      "order": [
        "repository_name",
        "description",
        "visibility",
        "auto_init"
      ]
    },
    "blueprintIdentifier": "githubRepository"
  },
  "invocationMethod": {
    "type": "WEBHOOK",
    "url": "https://api.github.com/user/repos",
    "agent": false,
    "synchronized": true,
    "method": "POST",
    "headers": {
      "Accept": "application/vnd.github+json",
      "Authorization": "Bearer {{ .secrets.GITHUB_TOKEN }}",
      "X-GitHub-Api-Version": "2022-11-28",
      "Content-Type": "application/json"
    },
    "body": {
      "name": "{{ .inputs.repository_name }}",
      "description": "{{ .inputs.description }}",
      "private": "{{ if eq .inputs.visibility \"private\" }}true{{ else }}false{{ end }}",
      "auto_init": "{{ .inputs.auto_init }}"
    }
  },
  "requiredApproval": false
}